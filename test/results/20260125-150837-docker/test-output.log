=== Docker Build Output ===
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 708B 0.0s done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 4.3s

#3 [internal] load .dockerignore
#3 transferring context: 2B 0.0s done
#3 DONE 0.1s

#4 [1/8] FROM docker.io/library/node:20-slim@sha256:6c51af7dc83f4708aaac35991306bca8f478351cfd2bda35750a62d7efcf05bb
#4 resolve docker.io/library/node:20-slim@sha256:6c51af7dc83f4708aaac35991306bca8f478351cfd2bda35750a62d7efcf05bb 0.0s done
#4 CACHED

#5 [internal] load build context
#5 transferring context: 6.61kB 0.2s done
#5 DONE 0.2s

#6 [2/8] RUN apt-get update && apt-get install -y     curl     git     jq     coreutils     && rm -rf /var/lib/apt/lists/*
#6 0.596 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#6 0.652 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#6 0.682 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#6 0.972 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8792 kB]
#6 1.756 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [6924 B]
#6 1.769 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [292 kB]
#6 2.146 Fetched 9346 kB in 3s (3619 kB/s)
#6 2.146 Reading package lists...
#6 1.339 Reading package lists...
#6 2.022 Building dependency tree...
#6 2.165 Reading state information...
#6 2.311 coreutils is already the newest version (9.1-1).
#6 2.311 coreutils set to manually installed.
#6 2.311 The following additional packages will be installed:
#6 2.311   ca-certificates git-man krb5-locales less libbrotli1 libbsd0 libcbor0.8
#6 2.311   libcurl3-gnutls libcurl4 libedit2 liberror-perl libexpat1 libfido2-1
#6 2.311   libgdbm-compat4 libgdbm6 libgssapi-krb5-2 libjq1 libk5crypto3 libkeyutils1
#6 2.311   libkrb5-3 libkrb5support0 libldap-2.5-0 libldap-common libnghttp2-14
#6 2.311   libonig5 libperl5.36 libpsl5 librtmp1 libsasl2-2 libsasl2-modules
#6 2.311   libsasl2-modules-db libssh2-1 libssl3 libx11-6 libx11-data libxau6 libxcb1
#6 2.312   libxdmcp6 libxext6 libxmuu1 netbase openssh-client openssl patch perl
#6 2.312   perl-modules-5.36 publicsuffix xauth
#6 2.313 Suggested packages:
#6 2.313   gettext-base git-daemon-run | git-daemon-sysvinit git-doc git-email git-gui
#6 2.313   gitk gitweb git-cvs git-mediawiki git-svn gdbm-l10n krb5-doc krb5-user
#6 2.313   sensible-utils libsasl2-modules-gssapi-mit | libsasl2-modules-gssapi-heimdal
#6 2.313   libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql keychain
#6 2.313   libpam-ssh monkeysphere ssh-askpass ed diffutils-doc perl-doc
#6 2.313   libterm-readline-gnu-perl | libterm-readline-perl-perl make
#6 2.313   libtap-harness-archive-perl
#6 2.642 The following NEW packages will be installed:
#6 2.642   ca-certificates curl git git-man jq krb5-locales less libbrotli1 libbsd0
#6 2.642   libcbor0.8 libcurl3-gnutls libcurl4 libedit2 liberror-perl libexpat1
#6 2.642   libfido2-1 libgdbm-compat4 libgdbm6 libgssapi-krb5-2 libjq1 libk5crypto3
#6 2.642   libkeyutils1 libkrb5-3 libkrb5support0 libldap-2.5-0 libldap-common
#6 2.643   libnghttp2-14 libonig5 libperl5.36 libpsl5 librtmp1 libsasl2-2
#6 2.643   libsasl2-modules libsasl2-modules-db libssh2-1 libssl3 libx11-6 libx11-data
#6 2.643   libxau6 libxcb1 libxdmcp6 libxext6 libxmuu1 netbase openssh-client openssl
#6 2.643   patch perl perl-modules-5.36 publicsuffix xauth
#6 2.711 0 upgraded, 51 newly installed, 0 to remove and 0 not upgraded.
#6 2.711 Need to get 26.6 MB of archives.
#6 2.711 After this operation, 126 MB of additional disk space will be used.
#6 2.711 Get:1 http://deb.debian.org/debian bookworm/main amd64 perl-modules-5.36 all 5.36.0-7+deb12u3 [2815 kB]
#6 3.039 Get:2 http://deb.debian.org/debian bookworm/main amd64 libgdbm6 amd64 1.23-3 [72.2 kB]
#6 3.045 Get:3 http://deb.debian.org/debian bookworm/main amd64 libgdbm-compat4 amd64 1.23-3 [48.2 kB]
#6 3.060 Get:4 http://deb.debian.org/debian bookworm/main amd64 libperl5.36 amd64 5.36.0-7+deb12u3 [4196 kB]
#6 3.626 Get:5 http://deb.debian.org/debian bookworm/main amd64 perl amd64 5.36.0-7+deb12u3 [239 kB]
#6 3.661 Get:6 http://deb.debian.org/debian bookworm/main amd64 less amd64 590-2.1~deb12u2 [132 kB]
#6 3.668 Get:7 http://deb.debian.org/debian bookworm/main amd64 netbase all 6.4 [12.8 kB]
#6 3.687 Get:8 http://deb.debian.org/debian bookworm/main amd64 libssl3 amd64 3.0.18-1~deb12u1 [2029 kB]
#6 3.869 Get:9 http://deb.debian.org/debian bookworm/main amd64 openssl amd64 3.0.18-1~deb12u1 [1432 kB]
#6 4.257 Get:10 http://deb.debian.org/debian bookworm/main amd64 ca-certificates all 20230311+deb12u1 [155 kB]
#6 4.269 Get:11 http://deb.debian.org/debian bookworm/main amd64 krb5-locales all 1.20.1-2+deb12u4 [63.4 kB]
#6 4.288 Get:12 http://deb.debian.org/debian bookworm/main amd64 libbsd0 amd64 0.11.7-2 [117 kB]
#6 4.365 Get:13 http://deb.debian.org/debian bookworm/main amd64 libedit2 amd64 3.1-20221030-2 [93.0 kB]
#6 4.374 Get:14 http://deb.debian.org/debian bookworm/main amd64 libcbor0.8 amd64 0.8.0-2+b1 [27.4 kB]
#6 4.375 Get:15 http://deb.debian.org/debian bookworm/main amd64 libfido2-1 amd64 1.12.0-2+b1 [77.2 kB]
#6 4.379 Get:16 http://deb.debian.org/debian bookworm/main amd64 libkrb5support0 amd64 1.20.1-2+deb12u4 [33.2 kB]
#6 4.382 Get:17 http://deb.debian.org/debian bookworm/main amd64 libk5crypto3 amd64 1.20.1-2+deb12u4 [79.8 kB]
#6 4.388 Get:18 http://deb.debian.org/debian bookworm/main amd64 libkeyutils1 amd64 1.6.3-2 [8808 B]
#6 4.389 Get:19 http://deb.debian.org/debian bookworm/main amd64 libkrb5-3 amd64 1.20.1-2+deb12u4 [334 kB]
#6 4.418 Get:20 http://deb.debian.org/debian bookworm/main amd64 libgssapi-krb5-2 amd64 1.20.1-2+deb12u4 [135 kB]
#6 4.442 Get:21 http://deb.debian.org/debian bookworm/main amd64 openssh-client amd64 1:9.2p1-2+deb12u7 [992 kB]
#6 4.512 Get:22 http://deb.debian.org/debian bookworm/main amd64 libbrotli1 amd64 1.0.9-2+b6 [275 kB]
#6 4.530 Get:23 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg-10 [20.3 kB]
#6 4.530 Get:24 http://deb.debian.org/debian bookworm/main amd64 libsasl2-2 amd64 2.1.28+dfsg-10 [59.7 kB]
#6 4.560 Get:25 http://deb.debian.org/debian bookworm/main amd64 libldap-2.5-0 amd64 2.5.13+dfsg-5 [183 kB]
#6 4.570 Get:26 http://deb.debian.org/debian bookworm/main amd64 libnghttp2-14 amd64 1.52.0-1+deb12u2 [73.0 kB]
#6 4.574 Get:27 http://deb.debian.org/debian bookworm/main amd64 libpsl5 amd64 0.21.2-1 [58.7 kB]
#6 4.578 Get:28 http://deb.debian.org/debian bookworm/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b2 [60.8 kB]
#6 4.594 Get:29 http://deb.debian.org/debian bookworm/main amd64 libssh2-1 amd64 1.10.0-3+b1 [179 kB]
#6 4.629 Get:30 http://deb.debian.org/debian bookworm/main amd64 libcurl4 amd64 7.88.1-10+deb12u14 [392 kB]
#6 4.722 Get:31 http://deb.debian.org/debian bookworm/main amd64 curl amd64 7.88.1-10+deb12u14 [316 kB]
#6 4.752 Get:32 http://deb.debian.org/debian bookworm/main amd64 libcurl3-gnutls amd64 7.88.1-10+deb12u14 [386 kB]
#6 4.775 Get:33 http://deb.debian.org/debian bookworm/main amd64 libexpat1 amd64 2.5.0-1+deb12u2 [99.9 kB]
#6 4.784 Get:34 http://deb.debian.org/debian bookworm/main amd64 liberror-perl all 0.17029-2 [29.0 kB]
#6 4.792 Get:35 http://deb.debian.org/debian bookworm/main amd64 git-man all 1:2.39.5-0+deb12u3 [2053 kB]
#6 5.033 Get:36 http://deb.debian.org/debian bookworm/main amd64 git amd64 1:2.39.5-0+deb12u3 [7264 kB]
#6 5.573 Get:37 http://deb.debian.org/debian bookworm/main amd64 libonig5 amd64 6.9.8-1 [188 kB]
#6 5.603 Get:38 http://deb.debian.org/debian bookworm/main amd64 libjq1 amd64 1.6-2.1+deb12u1 [134 kB]
#6 5.631 Get:39 http://deb.debian.org/debian bookworm/main amd64 jq amd64 1.6-2.1+deb12u1 [63.7 kB]
#6 5.640 Get:40 http://deb.debian.org/debian bookworm/main amd64 libldap-common all 2.5.13+dfsg-5 [29.3 kB]
#6 5.654 Get:41 http://deb.debian.org/debian bookworm/main amd64 libsasl2-modules amd64 2.1.28+dfsg-10 [66.6 kB]
#6 5.659 Get:42 http://deb.debian.org/debian bookworm/main amd64 libxau6 amd64 1:1.0.9-1 [19.7 kB]
#6 5.659 Get:43 http://deb.debian.org/debian bookworm/main amd64 libxdmcp6 amd64 1:1.1.2-3 [26.3 kB]
#6 5.679 Get:44 http://deb.debian.org/debian bookworm/main amd64 libxcb1 amd64 1.15-1 [144 kB]
#6 5.705 Get:45 http://deb.debian.org/debian bookworm/main amd64 libx11-data all 2:1.8.4-2+deb12u2 [292 kB]
#6 5.826 Get:46 http://deb.debian.org/debian bookworm/main amd64 libx11-6 amd64 2:1.8.4-2+deb12u2 [760 kB]
#6 5.885 Get:47 http://deb.debian.org/debian bookworm/main amd64 libxext6 amd64 2:1.3.4-1+b1 [52.9 kB]
#6 5.892 Get:48 http://deb.debian.org/debian bookworm/main amd64 libxmuu1 amd64 2:1.1.3-3 [23.9 kB]
#6 5.907 Get:49 http://deb.debian.org/debian bookworm/main amd64 patch amd64 2.7.6-7 [128 kB]
#6 5.915 Get:50 http://deb.debian.org/debian bookworm/main amd64 publicsuffix all 20230209.2326-1 [126 kB]
#6 5.938 Get:51 http://deb.debian.org/debian bookworm/main amd64 xauth amd64 1:1.1.2-1 [36.0 kB]
#6 6.108 debconf: delaying package configuration, since apt-utils is not installed
#6 6.185 Fetched 26.6 MB in 3s (8099 kB/s)
#6 6.242 Selecting previously unselected package perl-modules-5.36.
#6 6.242 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 6096 files and directories currently installed.)
#6 6.250 Preparing to unpack .../00-perl-modules-5.36_5.36.0-7+deb12u3_all.deb ...
#6 6.256 Unpacking perl-modules-5.36 (5.36.0-7+deb12u3) ...
#6 6.712 Selecting previously unselected package libgdbm6:amd64.
#6 6.713 Preparing to unpack .../01-libgdbm6_1.23-3_amd64.deb ...
#6 6.724 Unpacking libgdbm6:amd64 (1.23-3) ...
#6 6.780 Selecting previously unselected package libgdbm-compat4:amd64.
#6 6.781 Preparing to unpack .../02-libgdbm-compat4_1.23-3_amd64.deb ...
#6 6.787 Unpacking libgdbm-compat4:amd64 (1.23-3) ...
#6 6.839 Selecting previously unselected package libperl5.36:amd64.
#6 6.840 Preparing to unpack .../03-libperl5.36_5.36.0-7+deb12u3_amd64.deb ...
#6 6.846 Unpacking libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#6 7.472 Selecting previously unselected package perl.
#6 7.473 Preparing to unpack .../04-perl_5.36.0-7+deb12u3_amd64.deb ...
#6 7.488 Unpacking perl (5.36.0-7+deb12u3) ...
#6 7.564 Selecting previously unselected package less.
#6 7.565 Preparing to unpack .../05-less_590-2.1~deb12u2_amd64.deb ...
#6 7.572 Unpacking less (590-2.1~deb12u2) ...
#6 7.630 Selecting previously unselected package netbase.
#6 7.631 Preparing to unpack .../06-netbase_6.4_all.deb ...
#6 7.636 Unpacking netbase (6.4) ...
#6 7.687 Selecting previously unselected package libssl3:amd64.
#6 7.688 Preparing to unpack .../07-libssl3_3.0.18-1~deb12u1_amd64.deb ...
#6 7.694 Unpacking libssl3:amd64 (3.0.18-1~deb12u1) ...
#6 7.981 Selecting previously unselected package openssl.
#6 7.983 Preparing to unpack .../08-openssl_3.0.18-1~deb12u1_amd64.deb ...
#6 7.989 Unpacking openssl (3.0.18-1~deb12u1) ...
#6 8.194 Selecting previously unselected package ca-certificates.
#6 8.196 Preparing to unpack .../09-ca-certificates_20230311+deb12u1_all.deb ...
#6 8.201 Unpacking ca-certificates (20230311+deb12u1) ...
#6 8.271 Selecting previously unselected package krb5-locales.
#6 8.272 Preparing to unpack .../10-krb5-locales_1.20.1-2+deb12u4_all.deb ...
#6 8.278 Unpacking krb5-locales (1.20.1-2+deb12u4) ...
#6 8.328 Selecting previously unselected package libbsd0:amd64.
#6 8.329 Preparing to unpack .../11-libbsd0_0.11.7-2_amd64.deb ...
#6 8.334 Unpacking libbsd0:amd64 (0.11.7-2) ...
#6 8.389 Selecting previously unselected package libedit2:amd64.
#6 8.391 Preparing to unpack .../12-libedit2_3.1-20221030-2_amd64.deb ...
#6 8.396 Unpacking libedit2:amd64 (3.1-20221030-2) ...
#6 8.451 Selecting previously unselected package libcbor0.8:amd64.
#6 8.452 Preparing to unpack .../13-libcbor0.8_0.8.0-2+b1_amd64.deb ...
#6 8.458 Unpacking libcbor0.8:amd64 (0.8.0-2+b1) ...
#6 8.505 Selecting previously unselected package libfido2-1:amd64.
#6 8.506 Preparing to unpack .../14-libfido2-1_1.12.0-2+b1_amd64.deb ...
#6 8.512 Unpacking libfido2-1:amd64 (1.12.0-2+b1) ...
#6 8.563 Selecting previously unselected package libkrb5support0:amd64.
#6 8.564 Preparing to unpack .../15-libkrb5support0_1.20.1-2+deb12u4_amd64.deb ...
#6 8.569 Unpacking libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#6 8.617 Selecting previously unselected package libk5crypto3:amd64.
#6 8.619 Preparing to unpack .../16-libk5crypto3_1.20.1-2+deb12u4_amd64.deb ...
#6 8.624 Unpacking libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#6 8.677 Selecting previously unselected package libkeyutils1:amd64.
#6 8.678 Preparing to unpack .../17-libkeyutils1_1.6.3-2_amd64.deb ...
#6 8.683 Unpacking libkeyutils1:amd64 (1.6.3-2) ...
#6 8.731 Selecting previously unselected package libkrb5-3:amd64.
#6 8.732 Preparing to unpack .../18-libkrb5-3_1.20.1-2+deb12u4_amd64.deb ...
#6 8.738 Unpacking libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#6 8.861 Selecting previously unselected package libgssapi-krb5-2:amd64.
#6 8.862 Preparing to unpack .../19-libgssapi-krb5-2_1.20.1-2+deb12u4_amd64.deb ...
#6 8.867 Unpacking libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#6 8.941 Selecting previously unselected package openssh-client.
#6 8.942 Preparing to unpack .../20-openssh-client_1%3a9.2p1-2+deb12u7_amd64.deb ...
#6 8.953 Unpacking openssh-client (1:9.2p1-2+deb12u7) ...
#6 9.140 Selecting previously unselected package libbrotli1:amd64.
#6 9.142 Preparing to unpack .../21-libbrotli1_1.0.9-2+b6_amd64.deb ...
#6 9.150 Unpacking libbrotli1:amd64 (1.0.9-2+b6) ...
#6 9.216 Selecting previously unselected package libsasl2-modules-db:amd64.
#6 9.217 Preparing to unpack .../22-libsasl2-modules-db_2.1.28+dfsg-10_amd64.deb ...
#6 9.222 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#6 9.265 Selecting previously unselected package libsasl2-2:amd64.
#6 9.266 Preparing to unpack .../23-libsasl2-2_2.1.28+dfsg-10_amd64.deb ...
#6 9.271 Unpacking libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#6 9.320 Selecting previously unselected package libldap-2.5-0:amd64.
#6 9.321 Preparing to unpack .../24-libldap-2.5-0_2.5.13+dfsg-5_amd64.deb ...
#6 9.327 Unpacking libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#6 9.386 Selecting previously unselected package libnghttp2-14:amd64.
#6 9.387 Preparing to unpack .../25-libnghttp2-14_1.52.0-1+deb12u2_amd64.deb ...
#6 9.392 Unpacking libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#6 9.445 Selecting previously unselected package libpsl5:amd64.
#6 9.446 Preparing to unpack .../26-libpsl5_0.21.2-1_amd64.deb ...
#6 9.452 Unpacking libpsl5:amd64 (0.21.2-1) ...
#6 9.500 Selecting previously unselected package librtmp1:amd64.
#6 9.501 Preparing to unpack .../27-librtmp1_2.4+20151223.gitfa8646d.1-2+b2_amd64.deb ...
#6 9.506 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#6 9.556 Selecting previously unselected package libssh2-1:amd64.
#6 9.557 Preparing to unpack .../28-libssh2-1_1.10.0-3+b1_amd64.deb ...
#6 9.562 Unpacking libssh2-1:amd64 (1.10.0-3+b1) ...
#6 9.628 Selecting previously unselected package libcurl4:amd64.
#6 9.629 Preparing to unpack .../29-libcurl4_7.88.1-10+deb12u14_amd64.deb ...
#6 9.634 Unpacking libcurl4:amd64 (7.88.1-10+deb12u14) ...
#6 9.704 Selecting previously unselected package curl.
#6 9.705 Preparing to unpack .../30-curl_7.88.1-10+deb12u14_amd64.deb ...
#6 9.711 Unpacking curl (7.88.1-10+deb12u14) ...
#6 9.867 Selecting previously unselected package libcurl3-gnutls:amd64.
#6 9.868 Preparing to unpack .../31-libcurl3-gnutls_7.88.1-10+deb12u14_amd64.deb ...
#6 9.875 Unpacking libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) ...
#6 10.01 Selecting previously unselected package libexpat1:amd64.
#6 10.01 Preparing to unpack .../32-libexpat1_2.5.0-1+deb12u2_amd64.deb ...
#6 10.01 Unpacking libexpat1:amd64 (2.5.0-1+deb12u2) ...
#6 10.06 Selecting previously unselected package liberror-perl.
#6 10.06 Preparing to unpack .../33-liberror-perl_0.17029-2_all.deb ...
#6 10.06 Unpacking liberror-perl (0.17029-2) ...
#6 10.11 Selecting previously unselected package git-man.
#6 10.11 Preparing to unpack .../34-git-man_1%3a2.39.5-0+deb12u3_all.deb ...
#6 10.12 Unpacking git-man (1:2.39.5-0+deb12u3) ...
#6 10.32 Selecting previously unselected package git.
#6 10.32 Preparing to unpack .../35-git_1%3a2.39.5-0+deb12u3_amd64.deb ...
#6 10.33 Unpacking git (1:2.39.5-0+deb12u3) ...
#6 10.94 Selecting previously unselected package libonig5:amd64.
#6 10.94 Preparing to unpack .../36-libonig5_6.9.8-1_amd64.deb ...
#6 10.94 Unpacking libonig5:amd64 (6.9.8-1) ...
#6 11.06 Selecting previously unselected package libjq1:amd64.
#6 11.07 Preparing to unpack .../37-libjq1_1.6-2.1+deb12u1_amd64.deb ...
#6 11.07 Unpacking libjq1:amd64 (1.6-2.1+deb12u1) ...
#6 11.12 Selecting previously unselected package jq.
#6 11.13 Preparing to unpack .../38-jq_1.6-2.1+deb12u1_amd64.deb ...
#6 11.13 Unpacking jq (1.6-2.1+deb12u1) ...
#6 11.18 Selecting previously unselected package libldap-common.
#6 11.18 Preparing to unpack .../39-libldap-common_2.5.13+dfsg-5_all.deb ...
#6 11.19 Unpacking libldap-common (2.5.13+dfsg-5) ...
#6 11.24 Selecting previously unselected package libsasl2-modules:amd64.
#6 11.24 Preparing to unpack .../40-libsasl2-modules_2.1.28+dfsg-10_amd64.deb ...
#6 11.25 Unpacking libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#6 11.30 Selecting previously unselected package libxau6:amd64.
#6 11.30 Preparing to unpack .../41-libxau6_1%3a1.0.9-1_amd64.deb ...
#6 11.30 Unpacking libxau6:amd64 (1:1.0.9-1) ...
#6 11.35 Selecting previously unselected package libxdmcp6:amd64.
#6 11.35 Preparing to unpack .../42-libxdmcp6_1%3a1.1.2-3_amd64.deb ...
#6 11.35 Unpacking libxdmcp6:amd64 (1:1.1.2-3) ...
#6 11.41 Selecting previously unselected package libxcb1:amd64.
#6 11.42 Preparing to unpack .../43-libxcb1_1.15-1_amd64.deb ...
#6 11.43 Unpacking libxcb1:amd64 (1.15-1) ...
#6 11.48 Selecting previously unselected package libx11-data.
#6 11.48 Preparing to unpack .../44-libx11-data_2%3a1.8.4-2+deb12u2_all.deb ...
#6 11.48 Unpacking libx11-data (2:1.8.4-2+deb12u2) ...
#6 11.64 Selecting previously unselected package libx11-6:amd64.
#6 11.64 Preparing to unpack .../45-libx11-6_2%3a1.8.4-2+deb12u2_amd64.deb ...
#6 11.64 Unpacking libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#6 11.81 Selecting previously unselected package libxext6:amd64.
#6 11.81 Preparing to unpack .../46-libxext6_2%3a1.3.4-1+b1_amd64.deb ...
#6 11.82 Unpacking libxext6:amd64 (2:1.3.4-1+b1) ...
#6 11.87 Selecting previously unselected package libxmuu1:amd64.
#6 11.87 Preparing to unpack .../47-libxmuu1_2%3a1.1.3-3_amd64.deb ...
#6 11.87 Unpacking libxmuu1:amd64 (2:1.1.3-3) ...
#6 11.92 Selecting previously unselected package patch.
#6 11.92 Preparing to unpack .../48-patch_2.7.6-7_amd64.deb ...
#6 11.92 Unpacking patch (2.7.6-7) ...
#6 11.99 Selecting previously unselected package publicsuffix.
#6 11.99 Preparing to unpack .../49-publicsuffix_20230209.2326-1_all.deb ...
#6 12.00 Unpacking publicsuffix (20230209.2326-1) ...
#6 12.05 Selecting previously unselected package xauth.
#6 12.05 Preparing to unpack .../50-xauth_1%3a1.1.2-1_amd64.deb ...
#6 12.05 Unpacking xauth (1:1.1.2-1) ...
#6 12.11 Setting up libexpat1:amd64 (2.5.0-1+deb12u2) ...
#6 12.12 Setting up libxau6:amd64 (1:1.0.9-1) ...
#6 12.14 Setting up libkeyutils1:amd64 (1.6.3-2) ...
#6 12.15 Setting up libpsl5:amd64 (0.21.2-1) ...
#6 12.17 Setting up libcbor0.8:amd64 (0.8.0-2+b1) ...
#6 12.19 Setting up libbrotli1:amd64 (1.0.9-2+b6) ...
#6 12.20 Setting up libssl3:amd64 (3.0.18-1~deb12u1) ...
#6 12.22 Setting up libnghttp2-14:amd64 (1.52.0-1+deb12u2) ...
#6 12.23 Setting up less (590-2.1~deb12u2) ...
#6 12.26 Setting up krb5-locales (1.20.1-2+deb12u4) ...
#6 12.28 Setting up libldap-common (2.5.13+dfsg-5) ...
#6 12.30 Setting up libkrb5support0:amd64 (1.20.1-2+deb12u4) ...
#6 12.31 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg-10) ...
#6 12.33 Setting up perl-modules-5.36 (5.36.0-7+deb12u3) ...
#6 12.34 Setting up libx11-data (2:1.8.4-2+deb12u2) ...
#6 12.36 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
#6 12.37 Setting up patch (2.7.6-7) ...
#6 12.39 Setting up libk5crypto3:amd64 (1.20.1-2+deb12u4) ...
#6 12.40 Setting up libsasl2-2:amd64 (2.1.28+dfsg-10) ...
#6 12.43 Setting up git-man (1:2.39.5-0+deb12u3) ...
#6 12.44 Setting up libssh2-1:amd64 (1.10.0-3+b1) ...
#6 12.46 Setting up netbase (6.4) ...
#6 12.50 Setting up libkrb5-3:amd64 (1.20.1-2+deb12u4) ...
#6 12.52 Setting up libfido2-1:amd64 (1.12.0-2+b1) ...
#6 12.53 Setting up openssl (3.0.18-1~deb12u1) ...
#6 12.56 Setting up libbsd0:amd64 (0.11.7-2) ...
#6 12.57 Setting up publicsuffix (20230209.2326-1) ...
#6 12.59 Setting up libonig5:amd64 (6.9.8-1) ...
#6 12.61 Setting up libgdbm6:amd64 (1.23-3) ...
#6 12.63 Setting up libxdmcp6:amd64 (1:1.1.2-3) ...
#6 12.64 Setting up libxcb1:amd64 (1.15-1) ...
#6 12.66 Setting up libjq1:amd64 (1.6-2.1+deb12u1) ...
#6 12.68 Setting up libedit2:amd64 (3.1-20221030-2) ...
#6 12.69 Setting up libsasl2-modules:amd64 (2.1.28+dfsg-10) ...
#6 12.72 Setting up libldap-2.5-0:amd64 (2.5.13+dfsg-5) ...
#6 12.73 Setting up ca-certificates (20230311+deb12u1) ...
#6 12.82 debconf: unable to initialize frontend: Dialog
#6 12.82 debconf: (TERM is not set, so the dialog frontend is not usable.)
#6 12.82 debconf: falling back to frontend: Readline
#6 12.84 debconf: unable to initialize frontend: Readline
#6 12.84 debconf: (This frontend requires a controlling tty.)
#6 12.84 debconf: falling back to frontend: Teletype
#6 13.42 Updating certificates in /etc/ssl/certs...
#6 14.27 142 added, 0 removed; done.
#6 14.31 Setting up libgssapi-krb5-2:amd64 (1.20.1-2+deb12u4) ...
#6 14.33 Setting up libgdbm-compat4:amd64 (1.23-3) ...
#6 14.34 Setting up jq (1.6-2.1+deb12u1) ...
#6 14.36 Setting up libcurl4:amd64 (7.88.1-10+deb12u14) ...
#6 14.38 Setting up libx11-6:amd64 (2:1.8.4-2+deb12u2) ...
#6 14.39 Setting up curl (7.88.1-10+deb12u14) ...
#6 14.41 Setting up libperl5.36:amd64 (5.36.0-7+deb12u3) ...
#6 14.42 Setting up libxmuu1:amd64 (2:1.1.3-3) ...
#6 14.44 Setting up openssh-client (1:9.2p1-2+deb12u7) ...
#6 14.55 Setting up libxext6:amd64 (2:1.3.4-1+b1) ...
#6 14.57 Setting up libcurl3-gnutls:amd64 (7.88.1-10+deb12u14) ...
#6 14.59 Setting up perl (5.36.0-7+deb12u3) ...
#6 14.62 Setting up xauth (1:1.1.2-1) ...
#6 14.64 Setting up liberror-perl (0.17029-2) ...
#6 14.65 Setting up git (1:2.39.5-0+deb12u3) ...
#6 14.68 Processing triggers for libc-bin (2.36-9+deb12u13) ...
#6 14.71 Processing triggers for ca-certificates (20230311+deb12u1) ...
#6 14.72 Updating certificates in /etc/ssl/certs...
#6 15.41 0 added, 0 removed; done.
#6 15.41 Running hooks in /etc/ca-certificates/update.d...
#6 15.41 done.
#6 DONE 15.6s

#7 [3/8] RUN npm install -g @anthropic-ai/claude-code
#7 11.93 
#7 11.93 added 3 packages in 11s
#7 11.93 
#7 11.93 2 packages are looking for funding
#7 11.93   run `npm fund` for details
#7 11.93 npm notice
#7 11.93 npm notice New major version of npm available! 10.8.2 -> 11.8.0
#7 11.93 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.8.0
#7 11.93 npm notice To update run: npm install -g npm@11.8.0
#7 11.93 npm notice
#7 DONE 12.1s

#8 [4/8] RUN useradd -m -s /bin/bash testuser
#8 DONE 0.5s

#9 [5/8] WORKDIR /home/testuser
#9 DONE 0.1s

#10 [6/8] COPY --chown=testuser:testuser bin/ /home/testuser/iter-plugin/
#10 DONE 0.1s

#11 [7/8] COPY --chown=testuser:testuser test/docker/test-plugin.sh /home/testuser/test-plugin.sh
#11 DONE 0.1s

#12 [8/8] RUN chmod +x /home/testuser/test-plugin.sh
#12 DONE 0.3s

#13 exporting to image
#13 exporting layers
#13 exporting layers 6.6s done
#13 exporting manifest sha256:3af4e58ea4b58bc5617c8784258bcd663b7e14f6959070c8751d74944ac429f9 0.0s done
#13 exporting config sha256:39c6a00f5e5b06e343c639bc1c23021e9c74aa4125ff3234705077771a5e518b 0.0s done
#13 exporting attestation manifest sha256:145de6a27339d6d263fac01794a4767345b6f67514dcfbb92ffc65c81a04f00e 0.0s done
#13 exporting manifest list sha256:7783cc7b040d204946ca2497da7ad31290a53647494e746d479bf5553efeb862
#13 exporting manifest list sha256:7783cc7b040d204946ca2497da7ad31290a53647494e746d479bf5553efeb862 0.0s done
#13 naming to docker.io/library/iter-plugin-test:latest done
#13 unpacking to docker.io/library/iter-plugin-test:latest
#13 unpacking to docker.io/library/iter-plugin-test:latest 3.0s done
#13 DONE 9.8s

=== Docker Run Output ===
==========================================
ITER PLUGIN INSTALLATION TEST
==========================================

[1/9] Checking Claude Code version...
2.1.19 (Claude Code)

[2/9] Adding local marketplace...
Adding marketplace...
✔ Successfully added marketplace: iter-local

[3/9] Listing marketplaces...
Configured marketplaces:

  ❯ iter-local
    Source: Directory (/home/testuser/iter-plugin)


[4/9] Installing iter plugin...
Installing plugin "iter@iter-local"...
✔ Successfully installed plugin: iter@iter-local (scope: user)

[5/9] Checking settings for installed plugin...
Settings file contents:
{
  "enabledPlugins": {
    "iter@iter-local": true
  }
}

OK: iter@iter-local found in settings

[6/9] Checking plugin cache structure...
Plugin cache directory exists

Cached files:
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/hooks/hooks.json
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/iter
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/run/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/iter/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/iter-index/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/install/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/iter-workflow/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/skills/iter-search/SKILL.md
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/.claude-plugin/plugin.json
/home/testuser/.claude/plugins/cache/iter-local/iter/2.1.20260125-0913/.claude-plugin/marketplace.json

Latest version: 2.1.20260125-0913

Checking SKILL.md for 'name' field...
--- SKILL.md contents ---
---
name: iter
description: Start iterative implementation until requirements/tests pass
allowed-tools: ["Bash", "Read", "Write", "Edit", "Glob", "Grep"]
---
!`${CLAUDE_PLUGIN_ROOT}/iter run "$(printf '%s' "$ARGUMENTS" | sed 's/"/\\"/g')"`
--- end ---

OK: SKILL.md has 'name' field

Checking marketplace.json...
--- marketplace.json ---
{
  "$schema": "https://anthropic.com/claude-code/marketplace.schema.json",
  "name": "iter-local",
  "description": "Local marketplace for Iter - adversarial iterative implementation plugin",
  "autoUpdate": true,
  "owner": {
    "name": "ternarybob"
  },
  "plugins": [
    {
      "name": "iter",
      "description": "Adversarial iterative implementation - structured loop until requirements/tests pass",
      "version": "2.1.20260125-0913",
      "author": {
        "name": "ternarybob"
      },
      "source": "./",
      "strict": false,
      "skills": [
        "./skills/iter",
        "./skills/iter-workflow",
        "./skills/iter-index",
        "./skills/iter-search",
        "./skills/run",
        "./skills/install"
      ],
      "category": "development",
      "homepage": "https://github.com/ternarybob/iter"
    }
  ]
}
--- end ---

OK: marketplace.json has 'skills' field

[7/9] Testing iter binary version...
--- iter version ---
iter version 2.1.20260125-0832

To enable /iter shortcut (instead of /iter:run):

  Mac/Linux/WSL:
    mkdir -p ~/.claude/skills/iter && cat << 'EOF' > ~/.claude/skills/iter/SKILL.md
---
name: iter
description: Run iter default workflow (wrapper for iter plugin)
---

Execute the plugin skill `/iter:run` with the same arguments.

Arguments:
$ARGUMENTS
EOF

  Windows PowerShell:
    $d="$env:USERPROFILE\.claude\skills\iter"; md $d -Force; @"
---
name: iter
description: Run iter default workflow (wrapper for iter plugin)
---

Execute the plugin skill ``/iter:run`` with the same arguments.

Arguments:
`$ARGUMENTS
"@ | Out-File "$d\SKILL.md" -Encoding utf8

Restart Claude Code after running the installer.

--- end ---
OK: iter binary executes correctly

[8/9] Testing iter binary help...
--- iter help ---
iter - Adversarial iterative implementation for Claude Code

Usage: iter [command] [options]
       iter --version

Commands:
  run "<task>"           Start iterative implementation until requirements/tests pass
    --max-iterations N   Set maximum iterations (default 50)
    --no-worktree        Disable git worktree isolation
  workflow "<spec>"      Start workflow-based implementation
    --max-iterations N   Set maximum iterations (default 50)
    --no-worktree        Disable git worktree isolation
  status                 Show current session status
  step [N]               Show current/specific step instructions
  pass                   Record validation pass
  reject "<reason>"      Record validation rejection
  next                   Move to next step
  complete               Mark session complete (merges worktree if active)
  reset                  Reset session state (cleans up worktree)
  hook-stop              Stop hook handler (JSON output)
--- end ---
OK: iter help works

[9/9] Testing /iter:run command in Claude...

No API key provided (ANTHROPIC_API_KEY not set)
Running offline skill simulation test...

Simulating skill execution: iter run 'test task'
--- iter run output ---
Index daemon started (PID 88)
Log file: /tmp/iter-test/.iter/index.log
# ITERATIVE IMPLEMENTATION

## Task
test task

## ENVIRONMENT

- **OS**: linux
- **WSL**: Yes (distro: )

### WSL-SPECIFIC RULES (CRITICAL)

You are running in Windows Subsystem for Linux. Follow these rules:

1. **NEVER use /mnt/c paths for git operations** - Cross-filesystem operations are unreliable
2. **For directory renames**: Use standard 'mv' or 'git mv' - if it fails with "Invalid argument", this is a WSL/NTFS limitation
3. **If filesystem operations fail 2 times**: STOP and report the blocker to the user
4. **Do NOT try workarounds** like cmd.exe, xcopy, or Windows commands - they create metadata inconsistencies
5. **Preferred approach for cross-filesystem issues**:
   - Ask user to run the operation from Windows side, OR
   - Work entirely within the Linux filesystem (/home/...)

### BLOCKER HANDLING

If you encounter:
- "Invalid argument" on rename/move
- "No such file or directory" for files that exist on Windows
- Directory metadata inconsistencies
--- end ---

OK: iter run command executes correctly

To run full Claude integration test, provide API key:
  docker run -e ANTHROPIC_API_KEY=sk-... iter-plugin-test

==========================================
ALL TESTS PASSED
==========================================

